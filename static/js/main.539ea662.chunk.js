(this["webpackJsonppokemon-app"]=this["webpackJsonppokemon-app"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(34),o=n.n(r),s=(n(45),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))}),i=(n(46),n(47),n(4)),l=n(11),j=n(76),d=n(77),u=n(78),b=Object(c.createContext)({language:"en",setLanguage:function(){}}),f=function(){return Object(c.useContext)(b)},m=n(35),h=n.n(m).a.create({baseURL:"https://pokeapi.co/api/v2/",headers:{"Content-type":"application/json"}}),p={getAll:function(){return h.get("/pokemon-species?limit=1000")},get:function(e){return h.get("/pokemon/".concat(e))},getSpecies:function(e){return h.get("/pokemon-species/".concat(e))},getLanguages:function(){return h.get("/language")},getMove:function(e){return h.get("/move/".concat(e))},getEvolutionChain:function(e){return h.get("/evolution-chain/".concat(e))}},O=n(0),x=function(e){var t=e.className,n=void 0===t?"":t,a=Object(c.useState)("en"),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),d=j[0],u=j[1],b=f().setLanguage;Object(c.useEffect)((function(){p.getLanguages().then((function(e){u(e.data.results.map((function(e){return e.name})))})).catch((function(e){console.log(e)}))}),[]);return Object(O.jsx)("div",{className:n,children:Object(O.jsx)("select",{name:"languages",value:o,onChange:function(e){s(e.target.value),b(e.target.value)},children:d.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})})},g=n(75),v=function(){return Object(O.jsxs)("nav",{className:"navbar navbar-expand-md navbar-light bg-opacity-25 bg-dark fixed-top",children:[Object(O.jsx)(l.b,{to:"/",className:"navbar-brand col-sm-3 col-md-2 mr-0 align-items-center",children:Object(O.jsx)(g.a,{alt:"Homepage",className:"class-logo",src:"https://raw.githubusercontent.com/PokeAPI/media/master/logo/pokeapi.svg?sanitize=true"})}),Object(O.jsx)(x,{})]})},k=n(38);var w=function(e,t){var n=function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),c),t}},a=Object(c.useState)(n),r=Object(i.a)(a,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){s(n())}),[]),Object(c.useEffect)((function(){var e=function(){s(n())};return window.addEventListener("storage",e),window.addEventListener("local-storage",e),function(){window.removeEventListener("storage",e),window.removeEventListener("local-storage",e)}}),[]),[o,function(t){"undefined"==typeof window&&console.warn("Tried setting localStorage key \u201c".concat(e,"\u201d even though environment is not a client,"));try{var n=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(n)),s(n),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),c)}}]};function S(){var e=w("capturedPokemonList",[]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=function(e){return"object"===typeof n.find((function(t){return t.name===e.name}))};return{capturedPokemons:n,setCapturedPokemons:function(e){a(e)?c(n.filter((function(t){return t.name!==e.name}))):c([].concat(Object(k.a)(n),[e]))},checkCapturedPokemon:a}}var y,N=function(e){if(e&&"undefined"!==typeof e){var t=e.split("/");return Number(t[t.length-2])}},A=n(37),E=n.n(A),P=function(e){var t=e.pokemon,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),l=Object(i.a)(s,2),j=l[0],d=l[1];return Object(c.useEffect)((function(){var e,n,c,a,r,s,i;i="undefined"!==typeof t.id?t.id:N(t.url),"undefined"!==typeof(null===(e=t.sprites)||void 0===e||null===(n=e.other)||void 0===n||null===(c=n.front_default)||void 0===c?void 0:c.front_default)?o(t.sprites.other.front_default.front_default):o("https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/".concat(i,".png")),"undefined"!==typeof(null===(a=t.sprites)||void 0===a||null===(r=a.other)||void 0===r||null===(s=r.front_default)||void 0===s?void 0:s.front_default)?o(t.sprites.front_default):d("https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(i,".png"))}),[t]),Object(O.jsx)(E.a,{src:r,fallbackImage:j,initialImage:"loader.gif",alt:t.name,className:"pokemon-main-image"})},C=n(81),I=n.p+"static/media/pokeboll-closed.a835fb9b.png",L=n.p+"static/media/pokeball-opened.d57c1e68.png",_=function(e){var t=S(),n=t.setCapturedPokemons,c=t.checkCapturedPokemon,a=e.pokemon;return Object(O.jsx)(C.a,{color:"success",className:"capture-free-button",variant:"light",onClick:function(){return n(a)},children:c(a)?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g.a,{alt:"Free",src:I}),Object(O.jsx)("span",{children:"\xa0free"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g.a,{alt:"Capture",src:L}),Object(O.jsx)("span",{children:"\xa0capture"})]})})},F=n(80),D=function(){return Object(O.jsx)("div",{className:"post loading",children:Object(O.jsx)("svg",{width:"80",height:"80",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(O.jsx)("circle",{cx:"50",cy:"50",fill:"none",stroke:"#49d1e0",strokeWidth:"10",r:"35",strokeDasharray:"164.93361431346415 56.97787143782138",transform:"rotate(275.845 50 50)",children:Object(O.jsx)("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})})})})},Z=function(e){var t=e.pokemon;return t?Object(O.jsx)(F.a,{style:{width:"18rem"},className:"pokemon-card card text-dark text-center",children:Object(O.jsxs)(F.a.Body,{children:[Object(O.jsx)(F.a.Title,{className:"pokemon-name",children:Object(O.jsxs)("span",{children:[t.name,t.id&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("br",{}),Object(O.jsxs)("span",{className:"pokemon-id",children:["(#",t.id,")"]})]})]})}),Object(O.jsx)(F.a.Text,{children:Object(O.jsx)(l.b,{className:"",to:"/pokemon/".concat(t.name),children:Object(O.jsx)(P,{pokemon:t})})}),Object(O.jsx)(_,{pokemon:t})]})}):Object(O.jsx)(D,{})},M=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1],o=S().capturedPokemons,s=Object(c.useState)(),l=Object(i.a)(s,2),j=l[0],d=l[1];return Object(c.useEffect)((function(){p.getAll().then((function(e){r(e.data.results)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){var e=Array.from(o),t=a.filter((function(t){for(var n in e)if(e[n].name===t.name)return e=e.splice(0,1),!1;return t}));d(t[Math.floor(Math.random()*t.length)])}),[o,a]),j?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:"See also"}),Object(O.jsx)("div",{className:"list-group d-flex flex-wrap flex-row justify-content-center",children:Object(O.jsx)(Z,{pokemon:j})})]}):Object(O.jsx)(D,{})},T=function(e){var t=S().capturedPokemons.map((function(e,t){return Object(O.jsx)(Z,{pokemon:e},t)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:"Captured"}),Object(O.jsx)("div",{className:"list-group d-flex flex-wrap flex-row justify-content-center",children:t})]})},W=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M,{}),Object(O.jsx)("hr",{}),Object(O.jsx)(T,{})]})},B=function(){return Object(O.jsx)(j.a,{className:"navbar navbar-expand-md navbar-light bg-opacity-25 bg-dark fixed-bottom",children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(u.a,{children:"Bottom"}),Object(O.jsx)(u.a,{children:Object(O.jsx)("a",{href:"https://gist.github.com/xcambar/c6438e7330584e42f71f2a51b8b367cc",className:"navbar-brand col-sm-3 col-md-2 mr-0 align-items-center",children:"Pok\xe9dex Mission"})})]})})},z=function(e){var t=e.className,n=e.children,a=Object(c.useState)("en"),r=Object(i.a)(a,2),o=r[0],s=r[1];return Object(O.jsx)(j.a,{className:t,children:Object(O.jsx)(b.Provider,{value:{language:o,setLanguage:s},children:Object(O.jsxs)(l.a,{basename:"/pokedex",children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(v,{})}),Object(O.jsxs)(d.a,{children:[Object(O.jsx)(u.a,{md:{span:10,order:0},xs:{span:12,order:1},children:Object(O.jsx)("main",{children:n})}),Object(O.jsx)(u.a,{md:{span:2,order:1},xs:{span:12,order:0},children:Object(O.jsx)(W,{})})]}),Object(O.jsx)(d.a,{children:Object(O.jsx)(B,{})})]})})})},J=n(6),R=function(e){return Object(O.jsx)("input",{className:"p-2 flex-grow-1",type:"search",placeholder:e.placeholder,onChange:e.handleSearch})};!function(e){e.SortIDAsc="SortIDAsc",e.SortIDDesc="SortIDDesc",e.SortNameAZ="SortNameAZ",e.SortNameZA="SortNameZA"}(y||(y={}));var U=function(e){var t=w("pokemonsList",[]),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),l=s[0],j=s[1],d=Object(c.useState)(y.SortIDAsc),u=Object(i.a)(d,2),b=u[0],f=u[1];Object(c.useEffect)((function(){a.length||p.getAll().then((function(e){var t=e.data.results.map((function(e){return e.id=N(e.url),e}));r(t)})).catch((function(e){console.warn(e)}))}),[]);if(!a||"undefined"===typeof a)return Object(O.jsxs)("h1",{children:[Object(O.jsx)(D,{}),"Loading..."]});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(R,{placeholder:"Pokemon name",handleSearch:function(e){j(e.target.value.toLowerCase())}}),Object(O.jsxs)("select",{onChange:function(e){f(e.target.value)},children:[Object(O.jsx)("option",{value:y.SortIDAsc,children:"Sort by Id: start-end"},y.SortIDAsc),Object(O.jsx)("option",{value:y.SortIDDesc,children:"Sort by Id: end-start"},y.SortIDDesc),Object(O.jsx)("option",{value:y.SortNameAZ,children:"Sort by Name: A-Z"},y.SortNameAZ),Object(O.jsx)("option",{value:y.SortNameZA,children:"Sort by Name: Z-A"},y.SortNameZA)]}),Object(O.jsx)("div",{className:"list-group d-flex flex-wrap flex-row  align-content-between lazy-test",children:a.filter((function(e){return e.name.toLowerCase().includes(l)})).sort((function(e,t){switch(b){case y.SortIDAsc:if(e.id>t.id)return 1;if(e.id<t.id)return-1;break;case y.SortIDDesc:if(e.id<t.id)return 1;if(e.id>t.id)return-1;break;case y.SortNameAZ:if(e.name>t.name)return 1;if(e.name<t.name)return-1;break;case y.SortNameZA:if(e.name<t.name)return 1;if(e.name>t.name)return-1}return 0})).map((function(e,t){return Object(O.jsx)(Z,{pokemon:e},t)}))})]})},H=n(79),Y=n(39),$=function(e){var t=e.pokemonSpecies,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){var e;if(null===(e=t.evolution_chain)||void 0===e?void 0:e.url){var n,c=N(null===(n=t.evolution_chain)||void 0===n?void 0:n.url);if("undefined"===typeof c)return;p.getEvolutionChain(c).then((function(e){if("undefined"!==typeof e.data.chain){var t=e.data.chain,n=[];"undefined"!==typeof t&&(!function e(t){t.species&&(n.push(t.species),t.evolves_to.length&&e(t.evolves_to[0]))}(t),o(n))}})).catch((function(e){console.log(e)}))}}),[]),r.length<=1?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{children:"Evolution Chain"}),Object(O.jsx)(H.a,{horizontal:!0,className:"card text-dark text-center",children:r.map((function(e,t){return Object(O.jsx)(Y.a,{children:Object(O.jsx)(Z,{pokemon:e},t)})}))})]})},q=function(e){var t=Object(J.f)(),n=Object(c.useState)(),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(),b=Object(i.a)(s,2),m=b[0],h=b[1],x=Object(c.useState)(""),g=Object(i.a)(x,2),v=g[0],k=g[1],w=f().language;return Object(c.useEffect)((function(){p.get(t.name).then((function(e){o(e.data)})).catch((function(e){console.log(e)})),p.getSpecies(t.name).then((function(e){h(e.data);var n=e.data.names.filter((function(e){return e.language.name===w}));k(n[0].name?n[0].name:t.name)})).catch((function(e){console.warn(e)}))}),[w,t.name]),"undefined"===typeof r||"undefined"===typeof m?Object(O.jsxs)("h1",{children:[Object(O.jsx)(D,{}),"Loading..."]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(d.a,{children:[Object(O.jsxs)(u.a,{className:"pokemon",children:[Object(O.jsx)("h1",{children:'My name is "'.concat(v,'"')}),Object(O.jsx)(Z,{pokemon:r})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(H.a,{className:"pokemon-base-stats",children:r.stats.map((function(e){return Object(O.jsxs)(Y.a,{children:[e.stat.name," - ",e.base_stat]},e.stat.name)}))}),Object(O.jsx)(H.a,{className:"pokemon-abilities",children:r.abilities.map((function(e){return Object(O.jsx)(Y.a,{children:e.ability.name},e.ability.name)}))}),Object(O.jsxs)(H.a,{className:"pokemon-properties",children:[Object(O.jsx)(Y.a,{children:"weight ".concat(r.weight)}),Object(O.jsx)(Y.a,{children:"height ".concat(r.height)}),Object(O.jsx)(Y.a,{children:"order ".concat(r.order)})]}),Object(O.jsx)(H.a,{className:"pokemon-types",children:r.types.map((function(e){return Object(O.jsx)(Y.a,{children:e.type.name},e.type.name)}))})]})]}),Object(O.jsx)(d.a,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)($,{pokemon:r,pokemonSpecies:m})})}),Object(O.jsx)(d.a,{children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h3",{children:"Moves"}),Object(O.jsxs)(H.a,{className:"pokemon-moves flex-wrap",horizontal:!0,children:[console.log("moved",r.moves),r.moves.map((function(e){return Object(O.jsx)(Y.a,{children:Object(O.jsx)(l.b,{to:"/move/".concat(e.move.name),children:Object(O.jsx)("h4",{children:e.move.name})})},e.move.name)}))]})]})})]})})},G=function(e){var t=Object(J.f)(),n=Object(c.useState)(),a=Object(i.a)(n,2),r=a[0],o=a[1];Object(c.useEffect)((function(){p.getMove(t.name).then((function(e){o(e.data)})).catch((function(e){console.warn(e)}))}),[t.name]);var s=function(e){var t,n;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{children:"Related Pokemon"}),Object(O.jsx)(j.a,{children:Object(O.jsx)("div",{className:"list-group d-flex flex-wrap flex-row",children:(null===e||void 0===e||null===(t=e.move)||void 0===t?void 0:t.learned_by_pokemon)&&(null===e||void 0===e||null===(n=e.move)||void 0===n?void 0:n.learned_by_pokemon.map((function(e,t){return Object(O.jsx)(Z,{pokemon:e},t)})))})})]})},l=function(e){var t=e.move;return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{className:"card-header",children:t.effect_entries&&t.effect_entries[0].effect}),Object(O.jsx)("div",{className:"list-group d-flex flex-wrap flex-row justify-content-center",children:Object(O.jsxs)(H.a,{className:"card-header text-dark text-center",children:[Object(O.jsx)(Y.a,{children:Object(O.jsxs)("strong",{children:["Power-",t.power]})}),["contest_type","damage_class","generation","target","type"].map((function(e){return Object(O.jsxs)(Y.a,{children:[Object(O.jsx)("strong",{children:e})," - ",t[e].name]})}))]})})]}):null};return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:'"'.concat(t.name,'" move')}),Object(O.jsx)(l,{move:r}),Object(O.jsx)(s,{move:r})]})})},K=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Page Not Found"}),Object(O.jsx)(l.b,{to:"/",children:"Home"})]})};var Q=function(){return Object(O.jsx)(z,{className:"App",children:Object(O.jsxs)(J.c,{children:[Object(O.jsx)(J.a,{path:"/",exact:!0,children:Object(O.jsx)(U,{})}),Object(O.jsx)(J.a,{path:"/pokemon/:name",children:Object(O.jsx)(q,{})}),Object(O.jsx)(J.a,{path:"/move/:name",children:Object(O.jsx)(G,{})}),Object(O.jsx)(J.a,{component:K})]})})},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(Q,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pokedex",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pokedex","/service-worker.js");V?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):X(t,e)}))}}(),s()}},[[74,1,2]]]);
//# sourceMappingURL=main.539ea662.chunk.js.map